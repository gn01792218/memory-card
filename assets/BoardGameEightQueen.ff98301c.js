import{y as g,d as S,o as l,b as r,h as $,w as q,F as D,f as F,z as V,g as _,j as L,T as X,A as G,r as Q,B as P,e as d,k as B,C as T,D as k,E as z}from"./vendor.7d6fda9c.js";import{u as W}from"./index.4fea12a2.js";var b=(o=>(o[o.SUCCESS=0]="SUCCESS",o[o.ERROR=1]="ERROR",o))(b||{});const J=500;function K(){const o=g([]);function v(n,c,f,a=14,p=J){n.push({type:f,content:c,fontSize:a}),setTimeout(()=>{n.shift()},p)}return{msgArray:o,pushMsg:v}}const Y={class:"absolute text-red-600 font-extrabold"},Z=S({props:{msgObj:null},setup(o){return(v,n)=>(l(),r("ul",Y,[$(X,{name:o.msgObj.transitionName},{default:q(()=>[(l(!0),r(D,null,F(o.msgObj.msgArr,c=>(l(),r("li",{class:V([`text-[${c.fontSize}px]`,{"text-red-600":c.type===_(b).ERROR},{"text-yellow-500":c.type===_(b).SUCCESS}]),key:c.content},L(c.content),3))),128))]),_:1},8,["name"])]))}}),w={class:"board relative"},ee=["id"],ue=["id","onClick","onMouseover","onMouseleave"],te=S({props:{size:null,openHint:{type:Boolean}},setup(o){const v=o,{size:n,openHint:c}=G(v),{getAssetsFileURL:f}=W(),{pushMsg:a,msgArray:p}=K(),E=Q([]),x=g(0),H=f("images/boardGame/queen.png");function I(e,s){if(E[e])return a(p.value,"\u6B64\u884C\u4E0D\u80FD\u653E\u7687\u540E!",b.ERROR,20),!1;for(let u=0;u<e;u++){if(s===E[u])return a(p.value,"\u76F4\u7DDA\u4E0A\u6709\u5176\u4ED6\u7687\u540E!",b.ERROR,20),!1;if(Math.abs(s-E[u])===Math.abs(u-e))return a(p.value,"\u659C\u7DDA\u4E0A\u6709\u5176\u4ED6\u7687\u540E!",b.ERROR,20),!1}return!0}function M(){const e=document.createElement("IMG");return e.src=H,e.classList.add("w-full"),e.classList.add("h-full"),e.classList.add("queen"),e}function O(e,s){const u=document.getElementById(`board-${e}-${s}`),t=u==null?void 0:u.firstChild;if(t)E[e]=null,t.remove(),x.value--;else{if(!I(e,s))return;E[e]=s,x.value++,u==null||u.appendChild(M()),x.value===n.value&&P(()=>j())}}function y(e,s,u){const t=document.getElementById(`board-${e}`);if(!t)return;const i=t.children;for(let m=0;m<i.length;m++)m!==s-1&&(u===0?i[m].classList.add("board-hint"):i[m].classList.remove("board-hint"))}function A(e,s,u){for(let t=0;t<n.value;t++){if(t===e-1)continue;const i=document.getElementById(`board-${t+1}-${s}`);u===0?i==null||i.classList.add("board-hint"):i==null||i.classList.remove("board-hint")}}function R(e,s,u){for(let t=0;t<n.value;t++){let i=e-(t+1)+s,m=t+1-e+s;if(e===t+1&&s===i||e===t+1&&s===m)continue;const h=document.getElementById(`board-${t+1}-${i}`),C=document.getElementById(`board-${t+1}-${m}`);u===0?(h==null||h.classList.add("board-hint"),C==null||C.classList.add("board-hint")):(h==null||h.classList.remove("board-hint"),C==null||C.classList.remove("board-hint"))}}function U(e,s){!c.value||(A(e,s,0),R(e,s,0),y(e,s,0))}function N(e,s){!c.value||(A(e,s,1),R(e,s,1),y(e,s,1))}function j(){a(p.value,"\u6210\u529F\u7834\u89E3!",b.SUCCESS,40,5e3)}return(e,s)=>(l(),r("section",w,[$(Z,{"msg-obj":{transitionName:"msg",msgArr:_(p)}},null,8,["msg-obj"]),(l(!0),r(D,null,F(_(n),u=>(l(),r("section",{class:"board-row flex",id:`board-${u}`,key:u},[(l(!0),r(D,null,F(_(n),t=>(l(),r("div",{class:"board-col",id:`board-${u}-${t}`,key:t,onClick:i=>O(u,t),onMouseover:i=>U(u,t),onMouseleave:i=>N(u,t)},null,40,ue))),128))],8,ee))),128))]))}}),se={class:"w-full text-white text-center"},ne=d("header",{class:"mb-5"},[d("p",{class:"text-gray-300"}," \u904A\u6232\u65B9\u5F0F : \u8ACB\u5C07\u6240\u6709\u7687\u540E\u653E\u9032\u68CB\u76E4\u4E2D\uFF0C\u4E26\u4E14\u6BCF\u500B\u7687\u540E\u90FD\u4E0D\u80FD\u4E92\u76F8\u653B\u64CA ")],-1),ae={class:"mb-5"},ie={class:"mb-2"},oe=d("label",{class:"mr-2"},"\u9078\u64C7\u68CB\u76E4Size",-1),le=["value"],re=d("span",{class:"text-gray-400 mr-2"},"\u662F\u5426\u958B\u555F\u63D0\u793A?",-1),de=d("label",{class:"mr-2",for:"openHint"},"\u662F",-1),ce=d("label",{for:"openHint"},"\u5426",-1),fe={key:0,class:"text-orange-300"},ve={key:1,class:"text-orange-300"},be=S({setup(o){const v=g({borderSize:8,options:[{text:"4 X 4",value:4},{text:"5 X 5",value:5},{text:"6 X 6",value:6},{text:"7 X 7",value:7},{text:"8 X 8",value:8}]}),n=g(!1);return(c,f)=>(l(),r("main",se,[ne,d("section",ae,[d("div",ie,[oe,B(d("select",{class:"text-black","onUpdate:modelValue":f[0]||(f[0]=a=>v.value.borderSize=a)},[(l(!0),r(D,null,F(v.value.options,a=>(l(),r("option",{key:a.value,value:a.value},L(a.text),9,le))),128))],512),[[T,v.value.borderSize]])]),d("div",null,[re,B(d("input",{type:"radio",id:"openHint",value:!0,"onUpdate:modelValue":f[1]||(f[1]=a=>n.value=a)},null,512),[[k,n.value]]),de,B(d("input",{type:"radio",id:"openHint",value:!1,"onUpdate:modelValue":f[2]||(f[2]=a=>n.value=a)},null,512),[[k,n.value]]),ce,n.value?(l(),r("p",fe,"\u63D0\u793A\u7684\u662F\u8A72\u4F4D\u7F6E\u7687\u540E\u7684\u653B\u64CA\u7BC4\u570D\uFF0C\u5728\u5176\u653B\u64CA\u7BC4\u570D\u5167\uFF0C\u4E0D\u61C9\u6709\u5176\u4ED6\u7687\u540E")):z("",!0),n.value?(l(),r("p",ve,"\u82E5\u653B\u64CA\u7BC4\u570D\u5167\u6709\u5176\u4ED6\u7687\u540E\uFF0C\u5247\u4E0D\u61C9\u8A72\u5C07\u7687\u540E\u653E\u5728\u8A72\u4F4D\u7F6E\u4E0A")):z("",!0)])]),$(te,{size:v.value.borderSize,"open-hint":n.value},null,8,["size","open-hint"])]))}});export{be as default};
