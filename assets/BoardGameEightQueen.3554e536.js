import{y as B,d as $,o as r,b as d,h as S,w as X,F as x,f as D,z as G,g,j as I,T as P,A as Q,r as T,B as W,C as J,e as l,k as F,D as K,E as k,G as z,i as L}from"./vendor.3904827f.js";import{u as Y}from"./index.7b531556.js";var C=(i=>(i[i.SUCCESS=0]="SUCCESS",i[i.ERROR=1]="ERROR",i))(C||{});const Z=500;function w(){const i=B([]);function v(n,c,f,a=14,b=Z){n.push({type:f,content:c,fontSize:a}),setTimeout(()=>{n.shift()},b)}return{msgArray:i,pushMsg:v}}const ee={class:"absolute text-red-600 font-extrabold"},ue=$({props:{msgObj:null},setup(i){return(v,n)=>(r(),d("ul",ee,[S(P,{name:i.msgObj.transitionName},{default:X(()=>[(r(!0),d(x,null,D(i.msgObj.msgArr,c=>(r(),d("li",{class:G([`text-[${c.fontSize}px]`,{"text-red-600":c.type===g(C).ERROR},{"text-yellow-500":c.type===g(C).SUCCESS}]),key:c.content},I(c.content),3))),128))]),_:1},8,["name"])]))}}),te={class:"board relative"},se=["id"],ne=["id","onClick","onMouseover","onMouseleave"],ae=$({props:{size:null,openHint:{type:Boolean}},setup(i){const v=i,{size:n,openHint:c}=Q(v),{getAssetsFileURL:f}=Y(),{pushMsg:a,msgArray:b}=w(),m=T([]),_=B(0),H=f("images/boardGame/queen.png");W(n,()=>{j()});function M(e,s){if(m[e])return a(b.value,"\u6B64\u884C\u4E0D\u80FD\u653E\u7687\u540E!",C.ERROR,20),!1;for(let u=0;u<n.value;u++){if(s===m[u])return a(b.value,"\u76F4\u7DDA\u4E0A\u6709\u5176\u4ED6\u7687\u540E!",C.ERROR,20),!1;if(m[u]&&Math.abs(s-m[u])===Math.abs(u-e))return a(b.value,"\u659C\u7DDA\u4E0A\u6709\u5176\u4ED6\u7687\u540E!",C.ERROR,20),!1}return!0}function O(){const e=document.createElement("IMG");return e.src=H,e.classList.add("w-full"),e.classList.add("h-full"),e.classList.add("queen"),e}function U(e,s){const u=document.getElementById(`board-${e}-${s}`),t=u==null?void 0:u.firstChild;if(t)m[e]=null,t.remove(),_.value--;else{if(!M(e,s))return;m[e]=s,_.value++,u==null||u.appendChild(O()),_.value===n.value&&J(()=>V())}console.log(_.value)}function y(e,s,u){const t=document.getElementById(`board-${e}`);if(!t)return;const o=t.children;for(let p=0;p<o.length;p++)p!==s-1&&(u===0?o[p].classList.add("board-hint"):o[p].classList.remove("board-hint"))}function A(e,s,u){for(let t=0;t<n.value;t++){if(t===e-1)continue;const o=document.getElementById(`board-${t+1}-${s}`);u===0?o==null||o.classList.add("board-hint"):o==null||o.classList.remove("board-hint")}}function R(e,s,u){for(let t=0;t<n.value;t++){let o=e-(t+1)+s,p=t+1-e+s;if(e===t+1&&s===o||e===t+1&&s===p)continue;const h=document.getElementById(`board-${t+1}-${o}`),E=document.getElementById(`board-${t+1}-${p}`);u===0?(h==null||h.classList.add("board-hint"),E==null||E.classList.add("board-hint")):(h==null||h.classList.remove("board-hint"),E==null||E.classList.remove("board-hint"))}}function N(e,s){!c.value||(A(e,s,0),R(e,s,0),y(e,s,0))}function q(e,s){!c.value||(A(e,s,1),R(e,s,1),y(e,s,1))}function V(){a(b.value,"\u6210\u529F\u7834\u89E3!",C.SUCCESS,40,5e3)}function j(){_.value=0,m.forEach((e,s)=>{m[s]=null;const u=document.getElementById(`board-${s}-${e}`),t=u==null?void 0:u.firstChild;t&&t.remove()})}return(e,s)=>(r(),d("section",te,[S(ue,{"msg-obj":{transitionName:"msg",msgArr:g(b)}},null,8,["msg-obj"]),(r(!0),d(x,null,D(g(n),u=>(r(),d("section",{class:"board-row flex",id:`board-${u}`,key:u},[(r(!0),d(x,null,D(g(n),t=>(r(),d("div",{class:"board-col",id:`board-${u}-${t}`,key:t,onClick:o=>U(u,t),onMouseover:o=>N(u,t),onMouseleave:o=>q(u,t)},null,40,ne))),128))],8,se))),128))]))}}),oe={class:"w-full text-white text-center"},ie=l("header",{class:"mb-5"},[l("p",{class:"text-gray-300"},[L(" \u904A\u6232\u65B9\u5F0F : \u8ACB\u5C07\u6240\u6709\u7687\u540E\u653E\u9032\u68CB\u76E4\u4E2D\uFF0C\u4E26\u4E14\u6BCF\u500B\u7687\u540E\u90FD\u4E0D\u80FD\u4E92\u76F8\u653B\u64CA"),l("br"),L(" PS.\u7687\u540E\u7684\u653B\u64CA\u7BC4\u570D\u662F\u7C73\u5B57\u578B ")])],-1),le={class:"mb-2"},re=l("label",{class:"mr-2"},"\u9078\u64C7\u68CB\u76E4Size",-1),de=["value"],ce=l("span",{class:"text-gray-400 mr-2"},"\u662F\u5426\u958B\u555F\u63D0\u793A?",-1),fe=l("label",{class:"mr-2",for:"openHint"},"\u662F",-1),ve=l("label",{for:"openHint"},"\u5426",-1),me={key:0,class:"text-sm text-orange-300"},pe={key:1,class:"text-sm text-orange-300"},he=$({setup(i){const v=B({borderSize:8,options:[{text:"4 X 4",value:4},{text:"5 X 5",value:5},{text:"6 X 6",value:6},{text:"7 X 7",value:7},{text:"8 X 8",value:8}]}),n=B(!1);return(c,f)=>(r(),d("main",oe,[ie,l("section",null,[l("div",le,[re,F(l("select",{class:"text-black","onUpdate:modelValue":f[0]||(f[0]=a=>v.value.borderSize=a)},[(r(!0),d(x,null,D(v.value.options,a=>(r(),d("option",{key:a.value,value:a.value},I(a.text),9,de))),128))],512),[[K,v.value.borderSize]])]),l("div",null,[ce,F(l("input",{type:"radio",id:"openHint",value:!0,"onUpdate:modelValue":f[1]||(f[1]=a=>n.value=a)},null,512),[[k,n.value]]),fe,F(l("input",{type:"radio",id:"openHint",value:!1,"onUpdate:modelValue":f[2]||(f[2]=a=>n.value=a)},null,512),[[k,n.value]]),ve,n.value?(r(),d("p",me,"\u63D0\u793A\u7684\u662F\u8A72\u4F4D\u7F6E\u7687\u540E\u7684\u653B\u64CA\u7BC4\u570D\uFF0C\u5728\u5176\u653B\u64CA\u7BC4\u570D\u5167\uFF0C\u4E0D\u61C9\u6709\u5176\u4ED6\u7687\u540E")):z("",!0),n.value?(r(),d("p",pe,"\u82E5\u653B\u64CA\u7BC4\u570D\u5167\u6709\u5176\u4ED6\u7687\u540E\uFF0C\u5247\u4E0D\u61C9\u8A72\u5C07\u7687\u540E\u653E\u5728\u8A72\u4F4D\u7F6E\u4E0A")):z("",!0)])]),S(ae,{class:"mb-10",size:v.value.borderSize,"open-hint":n.value},null,8,["size","open-hint"])]))}});export{he as default};
