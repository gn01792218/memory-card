import{x as _,d as S,o as l,b as i,h as R,w as O,F as b,f as C,y as U,g as E,j as F,T as H,z as j,r as q,A as I,e as o,k as x,B as V,C as D,i as L}from"./vendor.4b681594.js";import{u as N}from"./index.ccb5a8ef.js";var f=(n=>(n[n.SUCCESS=0]="SUCCESS",n[n.ERROR=1]="ERROR",n))(f||{});const X=500;function G(){const n=_([]);function c(s,a,r,t=14,v=X){s.push({type:r,content:a,fontSize:t}),setTimeout(()=>{s.shift()},v)}return{msgArray:n,pushMsg:c}}const w={class:"absolute text-red-600 font-extrabold"},Q=S({props:{msgObj:null},setup(n){return(c,s)=>(l(),i("ul",w,[R(H,{name:n.msgObj.transitionName},{default:O(()=>[(l(!0),i(b,null,C(n.msgObj.msgArr,a=>(l(),i("li",{class:U([`text-[${a.fontSize}px]`,{"text-red-600":a.type===E(f).ERROR},{"text-yellow-500":a.type===E(f).SUCCESS}]),key:a.content},F(a.content),3))),128))]),_:1},8,["name"])]))}}),T={class:"board relative"},P=["id","onClick","onMouseover","onMouseleave"],W=S({props:{size:null,openHint:{type:Boolean}},setup(n){const c=n,{size:s,openHint:a}=j(c),{getAssetsFileURL:r}=N(),{pushMsg:t,msgArray:v}=G(),m=q([]),h=_(0),B=r("images/boardGame/queen.png");function y(e,d){if(m[e])return t(v.value,"\u6B64\u884C\u4E0D\u80FD\u653E\u7687\u540E!",f.ERROR,20),!1;for(let u=0;u<e;u++){if(d===m[u])return t(v.value,"\u76F4\u7DDA\u4E0A\u6709\u5176\u4ED6\u7687\u540E!",f.ERROR,20),!1;if(Math.abs(d-m[u])===Math.abs(u-e))return t(v.value,"\u659C\u7DDA\u4E0A\u6709\u5176\u4ED6\u7687\u540E!",f.ERROR,20),!1}return!0}function A(){const e=document.createElement("IMG");return e.src=B,e.classList.add("w-full"),e.classList.add("h-full"),e.classList.add("queen"),e}function $(e,d){const u=document.getElementById(`board-${e}${d}`),p=u==null?void 0:u.firstChild;if(p)m[e]=null,p.remove(),h.value--;else{if(!y(e,d))return;m[e]=d,h.value++,u==null||u.appendChild(A()),h.value===s.value&&I(()=>M())}}function z(e,d){!!a.value}function k(e,d){!!a.value}function M(){t(v.value,"\u6210\u529F\u7834\u89E3!",f.SUCCESS)}return(e,d)=>(l(),i("section",T,[R(Q,{"msg-obj":{transitionName:"msg",msgArr:E(v)}},null,8,["msg-obj"]),(l(!0),i(b,null,C(E(s),u=>(l(),i("section",{class:"flex",key:u},[(l(!0),i(b,null,C(E(s),p=>(l(),i("div",{class:"board-col",id:`board-${u}${p}`,key:p,onClick:g=>$(u,p),onMouseover:g=>z(),onMouseleave:g=>k()},null,40,P))),128))]))),128))]))}}),J={class:"w-full text-white text-center"},K=o("header",{class:"mb-5"},[o("section",null," \u904A\u6232\u65B9\u5F0F : \u8ACB\u5C07\u6240\u6709\u7687\u540E\u653E\u9032\u68CB\u76E4\u4E2D\uFF0C\u4E26\u4E14\u6BCF\u500B\u7687\u540E\u90FD\u4E0D\u80FD\u4E92\u76F8\u653B\u64CA ")],-1),Y={class:"mb-5"},Z=o("label",{for:""},"\u9078\u64C7\u68CB\u76E4Size",-1),ee=["value"],te=L(" \u662F\u5426\u958B\u555F\u63D0\u793A? "),ue=o("label",{for:"openHint"},"\u662F",-1),ne=o("label",{for:"openHint"},"\u5426",-1),oe=S({setup(n){const c=_({borderSize:4,options:[{text:"4 X 4",value:4},{text:"5 X 5",value:5},{text:"6 X 6",value:6},{text:"7 X 7",value:7},{text:"8 X 8",value:8}]}),s=_(!0);return(a,r)=>(l(),i("main",J,[K,o("section",Y,[o("div",null,[Z,x(o("select",{class:"text-black","onUpdate:modelValue":r[0]||(r[0]=t=>c.value.borderSize=t)},[(l(!0),i(b,null,C(c.value.options,t=>(l(),i("option",{key:t.value,value:t.value},F(t.text),9,ee))),128))],512),[[V,c.value.borderSize]])]),o("div",null,[te,x(o("input",{type:"radio",id:"openHint",value:!1,"onUpdate:modelValue":r[1]||(r[1]=t=>s.value=t)},null,512),[[D,s.value]]),ue,x(o("input",{type:"radio",id:"openHint",value:!0,"onUpdate:modelValue":r[2]||(r[2]=t=>s.value=t)},null,512),[[D,s.value]]),ne])]),R(W,{size:c.value.borderSize,"open-hint":s.value},null,8,["size","open-hint"])]))}});export{oe as default};
