import{x as F,d as S,o as l,b as r,h as $,w as V,F as g,f as x,y as j,g as E,j as L,T as q,z as X,r as G,A as Q,e as c,k as B,B as T,C as z,D as P,i as W}from"./vendor.f604928f.js";import{u as J}from"./index.802def3f.js";var b=(o=>(o[o.SUCCESS=0]="SUCCESS",o[o.ERROR=1]="ERROR",o))(b||{});const K=500;function Y(){const o=F([]);function v(s,d,f,a=14,p=K){s.push({type:f,content:d,fontSize:a}),setTimeout(()=>{s.shift()},p)}return{msgArray:o,pushMsg:v}}const Z={class:"absolute text-red-600 font-extrabold"},w=S({props:{msgObj:null},setup(o){return(v,s)=>(l(),r("ul",Z,[$(q,{name:o.msgObj.transitionName},{default:V(()=>[(l(!0),r(g,null,x(o.msgObj.msgArr,d=>(l(),r("li",{class:j([`text-[${d.fontSize}px]`,{"text-red-600":d.type===E(b).ERROR},{"text-yellow-500":d.type===E(b).SUCCESS}]),key:d.content},L(d.content),3))),128))]),_:1},8,["name"])]))}}),ee={class:"board relative"},te=["id"],ue=["id","onClick","onMouseover","onMouseleave"],ne=S({props:{size:null,openHint:{type:Boolean}},setup(o){const v=o,{size:s,openHint:d}=X(v),{getAssetsFileURL:f}=J(),{pushMsg:a,msgArray:p}=Y(),_=G([]),D=F(0),k=f("images/boardGame/queen.png");function H(e,n){if(_[e])return a(p.value,"\u6B64\u884C\u4E0D\u80FD\u653E\u7687\u540E!",b.ERROR,20),!1;for(let t=0;t<e;t++){if(n===_[t])return a(p.value,"\u76F4\u7DDA\u4E0A\u6709\u5176\u4ED6\u7687\u540E!",b.ERROR,20),!1;if(Math.abs(n-_[t])===Math.abs(t-e))return a(p.value,"\u659C\u7DDA\u4E0A\u6709\u5176\u4ED6\u7687\u540E!",b.ERROR,20),!1}return!0}function I(){const e=document.createElement("IMG");return e.src=k,e.classList.add("w-full"),e.classList.add("h-full"),e.classList.add("queen"),e}function M(e,n){const t=document.getElementById(`board-${e}-${n}`),u=t==null?void 0:t.firstChild;if(u)_[e]=null,u.remove(),D.value--;else{if(!H(e,n))return;_[e]=n,D.value++,t==null||t.appendChild(I()),D.value===s.value&&Q(()=>N())}}function R(e,n,t){const u=document.getElementById(`board-${e}`);if(!u)return;const i=u.children;for(let m=0;m<i.length;m++)m!==n-1&&(t===0?i[m].classList.add("board-hint"):i[m].classList.remove("board-hint"))}function A(e,n,t){for(let u=0;u<s.value;u++){if(u===e-1)continue;const i=document.getElementById(`board-${u+1}-${n}`);t===0?i==null||i.classList.add("board-hint"):i==null||i.classList.remove("board-hint")}}function y(e,n,t){for(let u=0;u<s.value;u++){let i=e-(u+1)+n,m=u+1-e+n;if(e===u+1&&n===i||e===u+1&&n===m)continue;const h=document.getElementById(`board-${u+1}-${i}`),C=document.getElementById(`board-${u+1}-${m}`);t===0?(h==null||h.classList.add("board-hint"),C==null||C.classList.add("board-hint")):(h==null||h.classList.remove("board-hint"),C==null||C.classList.remove("board-hint"))}}function O(e,n){!d.value||(A(e,n,0),y(e,n,0),R(e,n,0))}function U(e,n){!d.value||(A(e,n,1),y(e,n,1),R(e,n,1))}function N(){a(p.value,"\u6210\u529F\u7834\u89E3!",b.SUCCESS,40,5e3)}return(e,n)=>(l(),r("section",ee,[$(w,{"msg-obj":{transitionName:"msg",msgArr:E(p)}},null,8,["msg-obj"]),(l(!0),r(g,null,x(E(s),t=>(l(),r("section",{class:"board-row flex",id:`board-${t}`,key:t},[(l(!0),r(g,null,x(E(s),u=>(l(),r("div",{class:"board-col",id:`board-${t}-${u}`,key:u,onClick:i=>M(t,u),onMouseover:i=>O(t,u),onMouseleave:i=>U(t,u)},null,40,ue))),128))],8,te))),128))]))}}),se={class:"w-full text-white text-center"},ae=c("header",{class:"mb-5"},[c("section",null," \u904A\u6232\u65B9\u5F0F : \u8ACB\u5C07\u6240\u6709\u7687\u540E\u653E\u9032\u68CB\u76E4\u4E2D\uFF0C\u4E26\u4E14\u6BCF\u500B\u7687\u540E\u90FD\u4E0D\u80FD\u4E92\u76F8\u653B\u64CA ")],-1),ie={class:"mb-5"},oe=c("label",{for:""},"\u9078\u64C7\u68CB\u76E4Size",-1),le=["value"],re=W(" \u662F\u5426\u958B\u555F\u63D0\u793A? "),de=c("label",{for:"openHint"},"\u662F",-1),ce=c("label",{for:"openHint"},"\u5426",-1),fe={key:0,class:"text-orange-300"},pe=S({setup(o){const v=F({borderSize:4,options:[{text:"4 X 4",value:4},{text:"5 X 5",value:5},{text:"6 X 6",value:6},{text:"7 X 7",value:7},{text:"8 X 8",value:8}]}),s=F(!1);return(d,f)=>(l(),r("main",se,[ae,c("section",ie,[c("div",null,[oe,B(c("select",{class:"text-black","onUpdate:modelValue":f[0]||(f[0]=a=>v.value.borderSize=a)},[(l(!0),r(g,null,x(v.value.options,a=>(l(),r("option",{key:a.value,value:a.value},L(a.text),9,le))),128))],512),[[T,v.value.borderSize]])]),c("div",null,[re,B(c("input",{type:"radio",id:"openHint",value:!0,"onUpdate:modelValue":f[1]||(f[1]=a=>s.value=a)},null,512),[[z,s.value]]),de,B(c("input",{type:"radio",id:"openHint",value:!1,"onUpdate:modelValue":f[2]||(f[2]=a=>s.value=a)},null,512),[[z,s.value]]),ce,s.value?(l(),r("p",fe,"\u63D0\u793A\u7684\u662F\u7687\u540E\u653B\u64CA\u7BC4\u570D\uFF0C\u5728\u5176\u653B\u64CA\u7BC4\u570D\u5167\uFF0C\u6709\u5176\u4ED6\u7687\u540E\u7684\u8A71\uFF0C\u8868\u793A\u4E0D\u80FD\u653E\u5728\u8A72\u4F4D\u7F6E")):P("",!0)])]),$(ne,{size:v.value.borderSize,"open-hint":s.value},null,8,["size","open-hint"])]))}});export{pe as default};
