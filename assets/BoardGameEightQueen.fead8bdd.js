import{y as x,d as S,o as r,b as d,h as A,w as q,F as B,f as g,z as X,g as _,j as H,T as G,A as P,r as Q,B as T,e as l,k as F,C as W,D as k,E as z,i as L}from"./vendor.7d6fda9c.js";import{u as J}from"./index.37e849c3.js";var b=(o=>(o[o.SUCCESS=0]="SUCCESS",o[o.ERROR=1]="ERROR",o))(b||{});const K=500;function Y(){const o=x([]);function v(n,c,f,a=14,p=K){n.push({type:f,content:c,fontSize:a}),setTimeout(()=>{n.shift()},p)}return{msgArray:o,pushMsg:v}}const Z={class:"absolute text-red-600 font-extrabold"},w=S({props:{msgObj:null},setup(o){return(v,n)=>(r(),d("ul",Z,[A(G,{name:o.msgObj.transitionName},{default:q(()=>[(r(!0),d(B,null,g(o.msgObj.msgArr,c=>(r(),d("li",{class:X([`text-[${c.fontSize}px]`,{"text-red-600":c.type===_(b).ERROR},{"text-yellow-500":c.type===_(b).SUCCESS}]),key:c.content},H(c.content),3))),128))]),_:1},8,["name"])]))}}),ee={class:"board relative"},ue=["id"],te=["id","onClick","onMouseover","onMouseleave"],se=S({props:{size:null,openHint:{type:Boolean}},setup(o){const v=o,{size:n,openHint:c}=P(v),{getAssetsFileURL:f}=J(),{pushMsg:a,msgArray:p}=Y(),C=Q([]),D=x(0),I=f("images/boardGame/queen.png");function M(e,s){if(C[e])return a(p.value,"\u6B64\u884C\u4E0D\u80FD\u653E\u7687\u540E!",b.ERROR,20),!1;for(let u=0;u<n.value;u++){if(s===C[u])return a(p.value,"\u76F4\u7DDA\u4E0A\u6709\u5176\u4ED6\u7687\u540E!",b.ERROR,20),!1;if(C[u]&&Math.abs(s-C[u])===Math.abs(u-e))return a(p.value,"\u659C\u7DDA\u4E0A\u6709\u5176\u4ED6\u7687\u540E!",b.ERROR,20),!1}return!0}function O(){const e=document.createElement("IMG");return e.src=I,e.classList.add("w-full"),e.classList.add("h-full"),e.classList.add("queen"),e}function U(e,s){const u=document.getElementById(`board-${e}-${s}`),t=u==null?void 0:u.firstChild;if(t)C[e]=null,t.remove(),D.value--;else{if(!M(e,s))return;C[e]=s,D.value++,u==null||u.appendChild(O()),D.value===n.value&&T(()=>j())}}function $(e,s,u){const t=document.getElementById(`board-${e}`);if(!t)return;const i=t.children;for(let m=0;m<i.length;m++)m!==s-1&&(u===0?i[m].classList.add("board-hint"):i[m].classList.remove("board-hint"))}function y(e,s,u){for(let t=0;t<n.value;t++){if(t===e-1)continue;const i=document.getElementById(`board-${t+1}-${s}`);u===0?i==null||i.classList.add("board-hint"):i==null||i.classList.remove("board-hint")}}function R(e,s,u){for(let t=0;t<n.value;t++){let i=e-(t+1)+s,m=t+1-e+s;if(e===t+1&&s===i||e===t+1&&s===m)continue;const h=document.getElementById(`board-${t+1}-${i}`),E=document.getElementById(`board-${t+1}-${m}`);u===0?(h==null||h.classList.add("board-hint"),E==null||E.classList.add("board-hint")):(h==null||h.classList.remove("board-hint"),E==null||E.classList.remove("board-hint"))}}function N(e,s){!c.value||(y(e,s,0),R(e,s,0),$(e,s,0))}function V(e,s){!c.value||(y(e,s,1),R(e,s,1),$(e,s,1))}function j(){a(p.value,"\u6210\u529F\u7834\u89E3!",b.SUCCESS,40,5e3)}return(e,s)=>(r(),d("section",ee,[A(w,{"msg-obj":{transitionName:"msg",msgArr:_(p)}},null,8,["msg-obj"]),(r(!0),d(B,null,g(_(n),u=>(r(),d("section",{class:"board-row flex",id:`board-${u}`,key:u},[(r(!0),d(B,null,g(_(n),t=>(r(),d("div",{class:"board-col",id:`board-${u}-${t}`,key:t,onClick:i=>U(u,t),onMouseover:i=>N(u,t),onMouseleave:i=>V(u,t)},null,40,te))),128))],8,ue))),128))]))}}),ne={class:"w-full text-white text-center"},ae=l("header",{class:"mb-5"},[l("p",{class:"text-gray-300"},[L(" \u904A\u6232\u65B9\u5F0F : \u8ACB\u5C07\u6240\u6709\u7687\u540E\u653E\u9032\u68CB\u76E4\u4E2D\uFF0C\u4E26\u4E14\u6BCF\u500B\u7687\u540E\u90FD\u4E0D\u80FD\u4E92\u76F8\u653B\u64CA"),l("br"),L(" PS.\u7687\u540E\u7684\u653B\u64CA\u7BC4\u570D\u662F\u7C73\u5B57\u578B ")])],-1),ie={class:"mb-2"},oe=l("label",{class:"mr-2"},"\u9078\u64C7\u68CB\u76E4Size",-1),le=["value"],re=l("span",{class:"text-gray-400 mr-2"},"\u662F\u5426\u958B\u555F\u63D0\u793A?",-1),de=l("label",{class:"mr-2",for:"openHint"},"\u662F",-1),ce=l("label",{for:"openHint"},"\u5426",-1),fe={key:0,class:"text-sm text-orange-300"},ve={key:1,class:"text-sm text-orange-300"},be=S({setup(o){const v=x({borderSize:8,options:[{text:"4 X 4",value:4},{text:"5 X 5",value:5},{text:"6 X 6",value:6},{text:"7 X 7",value:7},{text:"8 X 8",value:8}]}),n=x(!1);return(c,f)=>(r(),d("main",ne,[ae,l("section",null,[l("div",ie,[oe,F(l("select",{class:"text-black","onUpdate:modelValue":f[0]||(f[0]=a=>v.value.borderSize=a)},[(r(!0),d(B,null,g(v.value.options,a=>(r(),d("option",{key:a.value,value:a.value},H(a.text),9,le))),128))],512),[[W,v.value.borderSize]])]),l("div",null,[re,F(l("input",{type:"radio",id:"openHint",value:!0,"onUpdate:modelValue":f[1]||(f[1]=a=>n.value=a)},null,512),[[k,n.value]]),de,F(l("input",{type:"radio",id:"openHint",value:!1,"onUpdate:modelValue":f[2]||(f[2]=a=>n.value=a)},null,512),[[k,n.value]]),ce,n.value?(r(),d("p",fe,"\u63D0\u793A\u7684\u662F\u8A72\u4F4D\u7F6E\u7687\u540E\u7684\u653B\u64CA\u7BC4\u570D\uFF0C\u5728\u5176\u653B\u64CA\u7BC4\u570D\u5167\uFF0C\u4E0D\u61C9\u6709\u5176\u4ED6\u7687\u540E")):z("",!0),n.value?(r(),d("p",ve,"\u82E5\u653B\u64CA\u7BC4\u570D\u5167\u6709\u5176\u4ED6\u7687\u540E\uFF0C\u5247\u4E0D\u61C9\u8A72\u5C07\u7687\u540E\u653E\u5728\u8A72\u4F4D\u7F6E\u4E0A")):z("",!0)])]),A(se,{class:"mb-10",size:v.value.borderSize,"open-hint":n.value},null,8,["size","open-hint"])]))}});export{be as default};
