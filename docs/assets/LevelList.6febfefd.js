import{r as w,l as f,d as L,m as x,o as g,c as d,b as C,F as b,e as D,u as p,y as F,t as T,p as M,x as B}from"./vendor.f01bdc13.js";import{u as y}from"./useGame.58a8b3ec.js";import{a as l,b as k,p as _,g as v}from"./index.2a44b80b.js";import{u as I}from"./useUtil.a508e63f.js";function $(n,a,o){let s=n[a];return n[a]=n[o],n[o]=s,n}function N(n){const a=n;for(let o=n.length-1;o>0;o--){let s=Math.floor(Math.random()*(o+1));$(a,o,s)}return a}function P(){const o=w([]),{random:s,getAssetsFileURL:m}=I();function h(t,u){if(u%2!==0){console.log("\u53EA\u80FD\u8F38\u5165\u5076\u6578\u5F35\u5361\u724C\u6578\u91CF");return}if(u<10||u>18){console.log("\u5361\u724C\u6578\u91CF\u53EA\u80FD\u8F38\u5165\u4ECB\u65BC10~18\u4E4B\u9593\u7684\u6578\u5B57");return}const e=u/2;for(let c=0;c<e;c++)i(t);return N(r(o))}function i(t){let u,e;const c=m(`images/memoryCard/${l[t]}/cardDown.webp`);switch(t){case l.pokemon:u=Object.keys(_).length/2,e=s(0,u),o.push({gameTheme:l.pokemon,upImgPath:m(`images/memoryCard/${l[t]}/${e}.webp`),downImgPath:c,context:_[e],isChecked:!1});break;case l.ghostSlayer:u=Object.keys(k).length/2,e=s(0,u),o.push({gameTheme:l.ghostSlayer,upImgPath:m(`images/memoryCard/${l[t]}/${e}.webp`),downImgPath:c,context:k[e],isChecked:!1});break}}function r(t){let u=t.length;for(let e=0;e<u;e++){let c={context:t[e].context,downImgPath:t[e].downImgPath,gameTheme:t[e].gameTheme,isChecked:t[e].isChecked,upImgPath:t[e].upImgPath};t.push(c)}return t}return{GenerateCard:h}}function E(){const n=f(),{gameType:a,gameTheme:o}=y();let s;function m(){switch(console.log("\u7522\u751F\u95DC\u5361\u5217\u8868"),a.value){case v.memoryCard:s=w([]);const h=[10,10,12,12,14,14,16,16,16,16],i=[0,0,0,0,30,30,40,40,35,35];for(let r=0;r<10;r++)s.push({gameType:a.value,gameTheme:o.value,level:r,unlock:!1,cardNum:h[r],timeCount:i[r]});s[0].unlock=!0,n.commit("game/setLevelList",s)}}return{createLevelData:m}}const S={class:"w-full"},G={class:"flex flex-wrap text-white"},A=["onClick"],j=L({setup(n){const{createLevelData:a}=E(),{gameType:o,gameTheme:s,levelList:m}=y(),h=x(),i=f();a();function r(t){if(!t.unlock)return;const{GenerateCard:u}=P();i.commit("game/setMemoryCardListObj",u(s.value,t.cardNum)),i.commit("game/setCurrentLevel",t),h.push("/MemoryCardGame")}return(t,u)=>(g(),d("div",S,[C("ul",G,[(g(!0),d(b,null,D(p(m)[p(o)][p(s)],(e,c)=>(g(),d("li",{key:c},[C("div",{class:F([{"cursor-pointer text-gray-50":e.unlock},{"text-gray-400":!e.unlock},"mr-1"]),onClick:U=>r(e)}," \u7B2C"+T(e.level)+"\u95DC ",11,A)]))),128))])]))}}),O={class:"w-full"},R=C("h1",{class:"text-white text-center"},"\u904A\u6232\u95DC\u5361\u5217\u8868",-1),J=L({setup(n){f();const{gameType:a}=y();return(o,s)=>(g(),d("div",O,[R,p(a)==p(v).memoryCard?(g(),M(j,{key:0})):B("",!0)]))}});export{J as default};
