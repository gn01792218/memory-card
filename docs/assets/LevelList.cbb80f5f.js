import{r as _,l as y,d as w,m as v,o as p,c as g,b as C,F as x,e as b,u as d,y as T,t as D,p as F,x as M}from"./vendor.f01bdc13.js";import{u as k}from"./useGame.0ae6fe87.js";import{a as l,p as f,b as B,g as L}from"./index.f3b4bb23.js";import{u as I}from"./useUtil.b2a3a662.js";function $(n,a,o){let s=n[a];return n[a]=n[o],n[o]=s,n}function N(n){const a=n;for(let o=n.length-1;o>0;o--){let s=Math.floor(Math.random()*(o+1));$(a,o,s)}return a}function P(){const o=_([]),{random:s,getAssetsFileURL:c}=I();function h(t,u){if(u%2!==0){console.log("\u53EA\u80FD\u8F38\u5165\u5076\u6578\u5F35\u5361\u724C\u6578\u91CF");return}if(u<10||u>18){console.log("\u5361\u724C\u6578\u91CF\u53EA\u80FD\u8F38\u5165\u4ECB\u65BC10~18\u4E4B\u9593\u7684\u6578\u5B57");return}const e=u/2;for(let m=0;m<e;m++)i(t);return N(r(o))}function i(t){let u,e;const m=c(`images/memoryCard/${l[t]}/cardDown.webp`);switch(t){case l.pokemon:u=Object.keys(f).length/2,e=s(0,u),o.push({gameTheme:l.pokemon,upImgPath:c(`images/memoryCard/${l[t]}/${e}.webp`),downImgPath:m,context:f[e],isChecked:!1});break;case l.ghostSlayer:u=Object.keys(f).length/2,e=s(0,u),o.push({gameTheme:l.ghostSlayer,upImgPath:c(`images/memoryCard/${l[t]}/${e}.webp`),downImgPath:m,context:B[e],isChecked:!1});break}}function r(t){let u=t.length;for(let e=0;e<u;e++){let m={context:t[e].context,downImgPath:t[e].downImgPath,gameTheme:t[e].gameTheme,isChecked:t[e].isChecked,upImgPath:t[e].upImgPath};t.push(m)}return t}return{GenerateCard:h}}function E(){const n=y(),{gameType:a,gameTheme:o}=k();let s;function c(){switch(a.value){case L.memoryCard:s=_([]);const h=[10,10,12,12,14,14,16,16,16,16],i=[0,0,0,0,30,30,40,40,35,35];for(let r=0;r<10;r++)s.push({gameType:a.value,gameTheme:o.value,level:r,unlock:!1,cardNum:h[r],timeCount:i[r]});s[0].unlock=!0,n.commit("game/setLevelList",s)}}return{createLevelData:c}}const S={class:"w-full"},G={class:"flex flex-wrap text-white"},A=["onClick"],j=w({setup(n){const{createLevelData:a}=E(),{gameType:o,gameTheme:s,levelList:c}=k(),h=v(),i=y();a();function r(t){if(!t.unlock)return;const{GenerateCard:u}=P();i.commit("game/setMemoryCardListObj",u(s.value,t.cardNum)),i.commit("game/setCurrentLevel",t),h.push("/MemoryCardGame")}return(t,u)=>(p(),g("div",S,[C("ul",G,[(p(!0),g(x,null,b(d(c)[d(o)][d(s)],(e,m)=>(p(),g("li",{key:m},[C("div",{class:T([{"cursor-pointer text-gray-50":e.unlock},{"text-gray-400":!e.unlock},"mr-1"]),onClick:U=>r(e)}," \u7B2C"+D(e.level)+"\u95DC ",11,A)]))),128))])]))}}),O={class:"w-full"},R=C("h1",{class:"text-white text-center"},"\u904A\u6232\u95DC\u5361\u5217\u8868",-1),J=w({setup(n){y();const{gameType:a}=k();return(o,s)=>(p(),g("div",O,[R,d(a)==d(L).memoryCard?(p(),F(j,{key:0})):M("",!0)]))}});export{J as default};
