import{r as _,l as y,d as w,m as L,o as g,c as d,b as C,F as x,e as b,u as p,v as T,t as D,p as F,s as M}from"./vendor.689f786d.js";import{u as k}from"./useGame.56bd7cbb.js";import{a as l,p as f,b as B,g as v}from"./index.6021e703.js";import{u as I}from"./useUtil.b2a3a662.js";function $(u,a,o){let s=u[a];return u[a]=u[o],u[o]=s,u}function N(u){const a=u;for(let o=u.length-1;o>0;o--){let s=Math.floor(Math.random()*(o+1));$(a,o,s)}return a}function P(){const o=_([]),{random:s,getAssetsFileURL:m}=I();function h(t,n){if(n%2!==0){console.log("\u53EA\u80FD\u8F38\u5165\u5076\u6578\u5F35\u5361\u724C\u6578\u91CF");return}if(n<10||n>18){console.log("\u5361\u724C\u6578\u91CF\u53EA\u80FD\u8F38\u5165\u4ECB\u65BC10~18\u4E4B\u9593\u7684\u6578\u5B57");return}const e=n/2;for(let c=0;c<e;c++)i(t);return N(r(o))}function i(t){let n,e;const c=m(`images/memoryCard/${l[t]}/cardDown.webp`);switch(t){case l.pokemon:n=Object.keys(f).length/2,console.log(n),e=s(0,n),console.log(e),o.push({gameTheme:l.pokemon,upImgPath:m(`images/memoryCard/${l[t]}/${e}.webp`),downImgPath:c,context:f[e],isChecked:!1});break;case l.ghostSlayer:n=Object.keys(f).length/2,e=s(0,n),o.push({gameTheme:l.ghostSlayer,upImgPath:m(`images/memoryCard/${l[t]}/${e}.webp`),downImgPath:c,context:B[e],isChecked:!1});break}}function r(t){let n=t.length;for(let e=0;e<n;e++){let c={context:t[e].context,downImgPath:t[e].downImgPath,gameTheme:t[e].gameTheme,isChecked:t[e].isChecked,upImgPath:t[e].upImgPath};t.push(c)}return t}return{GenerateCard:h}}function E(){const u=y(),{gameType:a,gameTheme:o}=k();let s;function m(){switch(a.value){case v.memoryCard:s=_([]);const h=[10,10,12,12,14,14,16,16,16,16],i=[0,0,0,0,30,30,30,30,25,25];for(let r=0;r<10;r++)s.push({gameType:a.value,gameTheme:o.value,level:r,unlock:!1,cardNum:h[r],timeCount:i[r]});s[0].unlock=!0,u.commit("game/setLevelList",s)}}return{createLevelData:m}}const S={class:"w-full"},G={class:"flex flex-wrap text-white"},A=["onClick"],j=w({setup(u){const{createLevelData:a}=E(),{gameType:o,gameTheme:s,levelList:m}=k(),h=L(),i=y();a();function r(t){if(!t.unlock)return;const{GenerateCard:n}=P();i.commit("game/setMemoryCardListObj",n(s.value,t.cardNum)),i.commit("game/setCurrentLevel",t),h.push("/MemoryCardGame")}return(t,n)=>(g(),d("div",S,[C("ul",G,[(g(!0),d(x,null,b(p(m)[p(o)][p(s)],(e,c)=>(g(),d("li",{key:c},[C("div",{class:T([{"cursor-pointer text-gray-50":e.unlock},{"text-gray-400":!e.unlock},"mr-1"]),onClick:U=>r(e)}," \u7B2C"+D(e.level)+"\u95DC ",11,A)]))),128))])]))}}),O={class:"w-full"},R=C("h1",{class:"text-white text-center"},"\u904A\u6232\u95DC\u5361\u5217\u8868",-1),J=w({setup(u){y();const{gameType:a}=k();return(o,s)=>(g(),d("div",O,[R,p(a)==p(v).memoryCard?(g(),F(j,{key:0})):M("",!0)]))}});export{J as default};
