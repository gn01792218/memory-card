import{r as w,l as C,d as L,m as x,o as g,c as d,b as f,F as b,e as T,u as p,y as D,t as F,p as M,x as B}from"./vendor.f01bdc13.js";import{u as y}from"./useGame.0ae6fe87.js";import{a as l,b as k,p as _,g as v}from"./index.88814508.js";import{u as I}from"./useUtil.a508e63f.js";function $(u,a,o){let n=u[a];return u[a]=u[o],u[o]=n,u}function N(u){const a=u;for(let o=u.length-1;o>0;o--){let n=Math.floor(Math.random()*(o+1));$(a,o,n)}return a}function P(){const o=w([]),{random:n,getAssetsFileURL:m}=I();function h(t,s){if(s%2!==0){console.log("\u53EA\u80FD\u8F38\u5165\u5076\u6578\u5F35\u5361\u724C\u6578\u91CF");return}if(s<10||s>18){console.log("\u5361\u724C\u6578\u91CF\u53EA\u80FD\u8F38\u5165\u4ECB\u65BC10~18\u4E4B\u9593\u7684\u6578\u5B57");return}const e=s/2;for(let c=0;c<e;c++)i(t);return N(r(o))}function i(t){let s,e;const c=m(`images/memoryCard/${l[t]}/cardDown.webp`);switch(t){case l.pokemon:s=Object.keys(_).length/2,e=n(0,s),o.push({gameTheme:l.pokemon,upImgPath:m(`images/memoryCard/${l[t]}/${e}.webp`),downImgPath:c,context:_[e],isChecked:!1}),console.log(s);break;case l.ghostSlayer:s=Object.keys(k).length/2,e=n(0,s),o.push({gameTheme:l.ghostSlayer,upImgPath:m(`images/memoryCard/${l[t]}/${e}.webp`),downImgPath:c,context:k[e],isChecked:!1}),console.log(s);break}}function r(t){let s=t.length;for(let e=0;e<s;e++){let c={context:t[e].context,downImgPath:t[e].downImgPath,gameTheme:t[e].gameTheme,isChecked:t[e].isChecked,upImgPath:t[e].upImgPath};t.push(c)}return t}return{GenerateCard:h}}function E(){const u=C(),{gameType:a,gameTheme:o}=y();let n;function m(){switch(a.value){case v.memoryCard:n=w([]);const h=[10,10,12,12,14,14,16,16,16,16],i=[0,0,0,0,30,30,40,40,35,35];for(let r=0;r<10;r++)n.push({gameType:a.value,gameTheme:o.value,level:r,unlock:!1,cardNum:h[r],timeCount:i[r]});n[0].unlock=!0,u.commit("game/setLevelList",n)}}return{createLevelData:m}}const S={class:"w-full"},G={class:"flex flex-wrap text-white"},A=["onClick"],j=L({setup(u){const{createLevelData:a}=E(),{gameType:o,gameTheme:n,levelList:m}=y(),h=x(),i=C();a();function r(t){if(!t.unlock)return;const{GenerateCard:s}=P();i.commit("game/setMemoryCardListObj",s(n.value,t.cardNum)),i.commit("game/setCurrentLevel",t),h.push("/MemoryCardGame")}return(t,s)=>(g(),d("div",S,[f("ul",G,[(g(!0),d(b,null,T(p(m)[p(o)][p(n)],(e,c)=>(g(),d("li",{key:c},[f("div",{class:D([{"cursor-pointer text-gray-50":e.unlock},{"text-gray-400":!e.unlock},"mr-1"]),onClick:U=>r(e)}," \u7B2C"+F(e.level)+"\u95DC ",11,A)]))),128))])]))}}),O={class:"w-full"},R=f("h1",{class:"text-white text-center"},"\u904A\u6232\u95DC\u5361\u5217\u8868",-1),J=L({setup(u){C();const{gameType:a}=y();return(o,n)=>(g(),d("div",O,[R,p(a)==p(v).memoryCard?(g(),M(j,{key:0})):B("",!0)]))}});export{J as default};
